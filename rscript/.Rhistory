title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
# write(paste("1.TOC"), newfilename, append = T)
# write(paste("{:toc}"), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
if (is.na(nubmer)) number = length(htmlfiles) + 1
a <- htmlfiles[1]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
if (is.na(nubmer)) number = length(htmlfiles) + 1
if (is.na(number)) number = length(htmlfiles) + 1
a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
if (is.na(number)) number = length(htmlfiles) + 1
# This command lists all html files
htmlfiles <- list.files(".", pattern = ".html$")
a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
if (is.na(number)) number = length(htmlfiles) + 1
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
# write(paste("1.TOC"), newfilename, append = T)
# write(paste("{:toc}"), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
# write(paste("1.TOC"), newfilename, append = T)
# write(paste("{:toc}"), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
write(paste("{{page.title}}"), newfilename, append = T)
write(paste("1.TOC"), newfilename, append = T)
write(paste("{:toc}"), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
write(paste("1.TOC"), newfilename, append = T)
write(paste("{:toc}"), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
write(paste(" "), newfilename, append = T)
write(paste("1.TOC"), newfilename, append = T)
write(paste("{:toc}"), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
write(paste(" "), newfilename, append = T)
# write(paste("1.TOC"), newfilename, append = T)
# write(paste("{:toc}"), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
document
# file.remove(a)
gsub("<div class=\"article-part article-richtext article-body\">", document )
# file.remove(a)
match("<div class=\"article-part article-richtext article-body\">", document )
library(stringi)
# file.remove(a)
str_locate("<div class=\"article-part article-richtext article-body\">", document )
library(stringr)
# file.remove(a)
str_locate("<div class=\"article-part article-richtext article-body\">", document )
# file.remove(a)
str_locate( document,  "<div class=\"article-part article-richtext article-body\">")
grep(document,  "<div class=\"article-part article-richtext article-body\">")
grep("<div class=\"article-part article-richtext article-body\">", document)
# file.remove(a)
str_split( document,  "<div class=\"article-part article-richtext article-body\">")
# file.remove(a)
t <- str_split( document,  "<div class=\"article-part article-richtext article-body\">")[[1]][2]
t <- str_split( document,  "<div class=\"article-part article-richtext article-body\">")[[1]][1]
t
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
document <- str_split(document, "<div class=\"article-part article-richtext article-body\">")[[1]][2]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
write(paste(" "), newfilename, append = T)
# write(paste("1.TOC"), newfilename, append = T)
# write(paste("{:toc}"), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
document <- str_split(document, "<div class=\"article-part article-richtext article-body\">")[[1]][2]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
write(paste(" "), newfilename, append = T)
write(paste("1.TOC"), newfilename, append = T)
write(paste("{:toc}"), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
document <- str_split(document, "<div class=\"article-part article-richtext article-body\">")[[1]][2]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
write(paste(" "), newfilename, append = T)
write(paste("1.TOC"), newfilename, append = T)
write(paste("{:toc}"), newfilename, append = T)
write(paste(" "), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
# This script automates the the process of passing html files
# into the jekyll system. Its done for the handbook for infectious diseases
# Unzip the file
unzip("lehrbuch-ffentlicher-gesundheitsdienst.html.zip")
# This command lists all html files after deleting index.html
file.remove("index.html")
htmlfiles <- list.files(".", pattern = ".html$")
# loop through all zip files
for (a in htmlfiles) {
# a <- htmlfiles[9]
# Get rid of the annoying error of a missing newline
write("\n", a, append = T)
# Getting the necessary information out of the html-file
number <- strsplit(strsplit(a, "\\.")[[1]][1], "-")[[1]][2]
newfilename <- paste0("../docs/ready", a)
# read in the document
document <- readLines(a)
# Get document title
title_line <- document[grep("<title", document)]
title <- strsplit(strsplit(title_line, ">")[[1]][2], "<")[[1]][1]
# Get content out of document
document <- document[grep("<div class=\"article-part article-richtext article-body\">", document) ][1]
document <- str_split(document, "<div class=\"article-part article-richtext article-body\">")[[1]][2]
# remove the old file if it exists
if (file.exists(newfilename)) file.remove(newfilename)
# the new file is created line by line. This is where the jekyll front matter is included
write("---", newfilename)
write("layout: page", file = newfilename, append = T)
write(paste("title:", title), newfilename, append = T)
write(paste("nav_order:", number), newfilename, append = T)
write("---", newfilename, append = T)
# write(paste("{{page.title}}"), newfilename, append = T)
write(paste(" "), newfilename, append = T)
write(paste("## Inhaltsverzeichnis Kapitel"), newfilename, append = T)
write(paste("{: .no_toc .text-delta }"), newfilename, append = T)
write(paste(" "), newfilename, append = T)
write(paste("1.TOC"), newfilename, append = T)
write(paste("{:toc}"), newfilename, append = T)
write(paste(" "), newfilename, append = T)
write(document, newfilename, append = T)
# file.remove(a)
}
# Copying all pictures to the docs folder
pics <- list.files(".", pattern = ".png$")
for (i in pics) {
file.copy(i, paste0("../docs/", i))
}
# Cleaning up
file.remove(list.files(".", pattern = ".png$"))
